# üìå Fun√ß√£o deste arquivo:
# Definir a infraestrutura de execu√ß√£o do sistema via Docker Compose, permitindo rodar tanto a API (FastAPI)
# quanto a interface gr√°fica (Streamlit) em um √∫nico container.
#
# ------------------------------------------------------------------------------------------------------------------------
# Principais responsabilidades:
#
# Servi√ßo verificador:
# ‚û° Constr√≥i a imagem a partir do Dockerfile no diret√≥rio atual (build: .).
# ‚û° Nome do container: verificador-processos.
#
# Exposi√ß√£o de portas:
# 8000 ‚Üí API FastAPI.
# 8501 ‚Üí Interface Streamlit.
#
# Vari√°veis de ambiente:
# ‚û° Define o modelo padr√£o da OpenAI (OPENAI_MODEL=gpt-4o-mini).
# ‚û° Injeta a chave da OpenAI a partir do ambiente (OPENAI_API_KEY).
#
# Volumes:
# ‚û° Monta o diret√≥rio local (.) dentro do container em /app.
# ‚û° Facilita o desenvolvimento ao refletir altera√ß√µes de c√≥digo em tempo real sem precisar rebuildar a imagem.

version: "3.9"

services:
  verificador:
    build: .
    container_name: verificador-processos
    ports:
      - "8000:8000"   # FastAPI
      - "8501:8501"   # Streamlit
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_MODEL=gpt-4o-mini
    volumes:
      - .:/app   # monta o c√≥digo local dentro do container (bom p/ desenvolvimento)
